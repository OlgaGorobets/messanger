{"version":3,"sources":["helper/index.js","actions/index.js","reducers/index.js","components/UserBlock.js","components/TubeLink.js","components/MessagesBlock.js","components/Blocks.js","App.js","index.js"],"names":["formatDate","date","d","Date","month","getMonth","day","getDate","year","getFullYear","h","getHours","m","getMinutes","length","CHANGE_USER","ADD_MESSAGE","SET_LOOKED","ADD_LINK","initialState","current_user_id","users","id","name","links","link","title","messages","message","looked","from_id","to_id","ws","WebSocket","wsConnected","onopen","console","log","onmessage","evt","onclose","UserBlock","connect","state","dispatch","user","filter","us","ListGroup","Item","className","map","join","type","value","onChange","e","target","withRouter","TubeLink","useState","linkData","setLinkData","useEffect","linksData","lnk","formData","FormData","append","post","getLinkTitle","then","response","data","result","error","Spinner","animation","variant","MessagesBlock","messageValue","setMessageValue","activeUsers","parseInt","friends","customFriend","activeFrield","setActiveFrield","onFormSubmit","preventDefault","trim","Row","Col","mes","ms","index","mUsers","mUser","isYLinks","indexOf","key","split","pt","str","RegExp","test","href","onSubmit","size","placeholder","onClick","fr","newFriend","changeFriend","Blocks","location","Container","to","exact","path","component","store","createStore","messg","action","newMessage","send","JSON","stringify","nMessages","nMs","nLinks","render","document","getElementById"],"mappings":"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","file":"static/js/main.754db8f5.chunk.js","sourcesContent":["export function formatDate(date) {\r\n\tconst monthNames = [\"Jan\", \"Feb\", \"March\", \"Apr\", \"May\", \"June\",\r\n\t  \"July\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"\r\n\t];\r\n\t\r\n    let d = date ? new Date(date) : new Date(),\r\n        month = '' + monthNames[d.getMonth()],\r\n        day = '' + d.getDate(),\r\n        year = d.getFullYear(),\r\n\t\th = d.getHours(),\r\n\t\tm = d.getMinutes();\r\n\r\n    if (month.length < 2) \r\n        month = '0' + month;\r\n    if (day.length < 2) \r\n        day = '0' + day;\r\n\r\n    return day + \" \" + month + \",\" + year + \" \" + h + \":\" + m;\r\n}\r\nexport function validURL(str) {\r\n  var pattern = new RegExp('^(https?:\\\\/\\\\/)?'+ // protocol\r\n    '((([a-z\\\\d]([a-z\\\\d-]*[a-z\\\\d])*)\\\\.)+[a-z]{2,}|'+ // domain name\r\n    '((\\\\d{1,3}\\\\.){3}\\\\d{1,3}))'+ // OR ip (v4) address\r\n    '(\\\\:\\\\d+)?(\\\\/[-a-z\\\\d%_.~+]*)*'+ // port and path\r\n    '(\\\\?[;&a-z\\\\d%_.~+=-]*)?'+ // query string\r\n    '(\\\\#[-a-z\\\\d_]*)?$','i'); // fragment locator\r\n  return !!pattern.test(str);\r\n}","export const CHANGE_USER = 'CHANGE_USER';\r\nexport const ADD_MESSAGE = 'ADD_MESSAGE';\r\nexport const SET_LOOKED = 'SET_LOOKED';\r\nexport const ADD_LINK = 'ADD_LINK';\r\n\r\nexport function changeUser(id) {\r\n\treturn {\r\n\t\ttype: CHANGE_USER,\r\n\t\tid: id\r\n\t};\r\n}\r\n\r\nexport function addMessage(data) {\r\n\treturn {\r\n\t\ttype: ADD_MESSAGE,\r\n\t\tmessage: data.message,\t\t\r\n\t\tfrom_id: data.from_id,\r\n\t\tto_id: data.to_id\r\n\t};\r\n}\r\n\r\nexport function setLooked(data) {\r\n\treturn {\r\n\t\ttype: SET_LOOKED,\r\n\t\tfrom_id: data.from_id,\r\n\t\tto_id: data.to_id\r\n\t};\r\n}\r\n\r\nexport function addLink(data) {\r\n\treturn {\r\n\t\ttype: ADD_LINK,\r\n\t\ttitle: data.title,\r\n\t\tlink: data.link\r\n\t};\r\n}","import { formatDate } from '../helper';\r\nimport { CHANGE_USER } from '../actions';\r\nimport { ADD_MESSAGE } from '../actions';\r\nimport { SET_LOOKED } from '../actions';\r\nimport { ADD_LINK } from '../actions';\r\n\r\nconst initialState = {  \r\n\tcurrent_user_id: 0,\r\n\tusers: [{\r\n\t\tid: 0,\r\n\t\tname: \"User 1\"\r\n\t},{\r\n\t\tid: 1,\r\n\t\tname: \"User 2\"\r\n\t},{\r\n\t\tid: 2,\r\n\t\tname: \"User 3\"\r\n\t}],\r\n\tlinks: [{\r\n\t\tlink: \"https://youtu.be/RAUlcZXp23k\",\r\n\t\ttitle: \"some title of link\"\r\n\t}],\r\n\tmessages: [{\r\n\t\tid: 0,\r\n\t\tmessage: \"text of message1\",\r\n\t\tdate: formatDate(new Date()),\r\n\t\tlooked: false,\r\n\t\tfrom_id: 0,\r\n\t\tto_id: 1\r\n\t},{\r\n\t\tid: 1,\r\n\t\tmessage: \"text of message2 https://youtu.be/RAUlcZXp23k\",\r\n\t\tdate: formatDate(new Date()),\r\n\t\tlooked: true,\r\n\t\tfrom_id: 0,\r\n\t\tto_id: 1\r\n\t},\r\n\t{\r\n\t\tid: 2,\r\n\t\tmessage: \"text of message3\",\r\n\t\tdate: formatDate(new Date()),\r\n\t\tlooked: true,\r\n\t\tfrom_id: 1,\r\n\t\tto_id: 0\r\n\t},\r\n\t{\r\n\t\tid: 3,\r\n\t\tmessage: \"text of message4\",\r\n\t\tdate: formatDate(new Date()),\r\n\t\tlooked: false,\r\n\t\tfrom_id: 1,\r\n\t\tto_id: 0\r\n\t}]\r\n};\r\nconst URL = 'ws://localhost:3030';\r\nlet ws = new WebSocket(URL);\r\nlet wsConnected = false;\r\nws.onopen = () => {      \r\n    console.log('connected')\r\n\twsConnected = true;\r\n}\r\nws.onmessage = evt => { \r\n\tconsole.log(evt);\r\n    //const message = JSON.parse(evt.data)\r\n    //this.addMessage(message)\r\n}\r\nws.onclose = () => {\r\n\twsConnected = false;\r\n    console.log('disconnected');\r\n}\r\nexport default function toDoApp(state = initialState, action) {\t\r\n\tlet messg;\r\n\tswitch (action.type) {\r\n\tcase CHANGE_USER:\t\t\r\n\t\treturn {\r\n\t\t\t...state,\r\n\t\t\tcurrent_user_id: action.id\r\n\t\t}\r\n\tcase ADD_MESSAGE:\t\r\n\t\tlet mId = state.messages.length > 0 ? state.messages[state.messages.length-1].id+1: 0;\r\n\t\tlet newMessage = {\r\n\t\t\tid: mId,\r\n\t\t\tmessage: action.message,\r\n\t\t\tlooked: false,\r\n\t\t\tfrom_id: action.from_id,\r\n\t\t\tto_id: action.to_id,\r\n\t\t\tdate: formatDate(new Date())\r\n\t\t};\r\n\t\tmessg = { data: [...state.messages, newMessage], name: \"messages\" }\r\n\t\twsConnected && ws.send(JSON.stringify(messg));\r\n\t\treturn {\r\n\t\t\t...state,\r\n\t\t\tmessages: [...state.messages, newMessage]\r\n\t\t}\t\r\n\tcase SET_LOOKED:\t\r\n\t\tlet nMessages = state.messages.map((ms)=>{\r\n\t\t\tlet nMs = {...ms};\r\n\t\t\tif(ms.from_id == action.from_id && ms.to_id == ms.to_id){\r\n\t\t\t\tnMs.looked = true;\r\n\t\t\t}\r\n\t\t\treturn nMs;\r\n\t\t});\r\n\t\tmessg = { data: [...nMessages], name: \"messages\" }\r\n\t\twsConnected && ws.send(JSON.stringify(messg));\t\t\r\n\t\treturn {\r\n\t\t\t...state,\r\n\t\t\tmessages: [...nMessages]\r\n\t\t}\t\t\r\n\tcase ADD_LINK:\t\r\n\t\tconsole.log(\"add link\", action.link , action.title);\r\n\t\tlet nLinks = [...state.links];\r\n\t\tlet fLinks = state.links.filter((lnk)=>{\r\n\t\t\treturn action.link == lnk.link;\r\n\t\t});\r\n\t\tif(fLinks.length == 0){\t\t\t\r\n\t\t\tnLinks = [...state.links,\r\n\t\t\t{\r\n\t\t\t\tlink: action.link,\r\n\t\t\t\ttitle: action.title\r\n\t\t\t}]\t\t\t\r\n\t\t}\r\n\t\tmessg = { data: [...nLinks], name: \"links\" }\r\n\t\twsConnected && ws.send(JSON.stringify(messg));\t\t\r\n\t\treturn {\r\n\t\t\t...state,\r\n\t\t\tlinks: [...nLinks]\r\n\t\t}\t\t\t\r\n    default:\r\n      return state;\r\n  }\r\n}","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport {useParams,withRouter,Link} from \"react-router-dom\";\r\n\r\nimport ListGroup from 'react-bootstrap/ListGroup';\r\nimport Button from 'react-bootstrap/Button';\r\n\r\nimport { changeUser} from '../actions';\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n\t\tcurrent_user_id: state.current_user_id,\r\n\t\tusers: state.users\r\n\t};\r\n};\r\n\r\n\r\nconst UserBlock = connect(mapStateToProps)(({ current_user_id, users, dispatch}) => {\r\n\tlet user = users.filter((us)=>{\r\n\t\treturn us.id == current_user_id;\r\n\t});\r\n\tlet changeUserId = (e)=>{\r\n\t\tdispatch(changeUser(e.target.value));\t\t\r\n\t}\r\n\treturn(\r\n\t<ListGroup>\r\n\t\t<ListGroup.Item>\r\n\t\t<div className=\"userBlock\">Current user: {user.length > 0 ? users[0].name : \"Undefined user\"}(id = {current_user_id})</div>\r\n\t\t<div className=\"userList\">Avaliable users ids: {users.map((us)=>us.id).join(\",\")}</div>\r\n\t\t<div className=\"userIdChange\">\r\n\t\t\t<span>Change Current User: </span>\r\n\t\t\t<input type=\"text\" value={current_user_id} onChange={changeUserId} />\r\n\t\t</div>\r\n\t\t</ListGroup.Item>\r\n\t</ListGroup>\r\n)});\r\n\r\n\r\nexport default withRouter(UserBlock);","import React , { useState, useEffect,useRef } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport {useParams,withRouter,Link} from \"react-router-dom\";\r\nimport axios, { post } from 'axios';\r\nimport ListGroup from 'react-bootstrap/ListGroup';\r\nimport Button from 'react-bootstrap/Button';\r\nimport Spinner from 'react-bootstrap/Spinner';\r\nimport { addLink} from '../actions';\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n\t\tlinks: state.links\r\n\t};\r\n};\r\n\r\n\r\nconst TubeLink = connect(mapStateToProps)(({ links,  link, dispatch}) => {\r\n\tconst [linkData, setLinkData] = useState(null);\r\n\tlet getLinkTitle = ()=>{\r\n\t\tconst url = '/link.php';\r\n\t\tconst formData = new FormData();\r\n\t\tformData.append('link',link)\r\n\t\treturn  post(url, formData)\r\n\t}\t\r\n\tuseEffect(() => {\r\nconsole.log(\"gogogog\");\t\t\r\n\t\tlet linksData = links.filter((lnk)=>{\r\n\t\t\treturn lnk.link == link;\r\n\t\t});\t\r\n\t\tif(linksData.length > 0){\r\n\t\t\tsetLinkData({...linksData[0]});\r\n\t\t}\r\n\t\telse{\r\n\t\t\tgetLinkTitle().then((response)=>{\r\n\t\t\t\tlet result = response.data;\r\n\t\t\t\tconsole.log(result.error == false, result);\r\n\t\t\t\tif(result.error == false){\r\n\t\t\t\t\tdispatch(addLink({\r\n\t\t\t\t\t\tlink: link,\r\n\t\t\t\t\t\ttitle: result.title\r\n\t\t\t\t\t}));\t\t\t\t\r\n\t\t\t\t}\t\t\t\t\r\n\t\t\t});\r\n\t\t}\r\n\t}, [links]);\r\n\t\r\n\treturn(\r\n\t<ListGroup>\r\n\t\t<ListGroup.Item>\r\n\t\t{linkData !== null ? <>{linkData.title}</> : <Spinner animation=\"border\" variant=\"secondary\" />}\r\n\t\t</ListGroup.Item>\r\n\t</ListGroup>\r\n)});\r\n\r\n\r\nexport default withRouter(TubeLink);","import React , { useState, useEffect,useRef } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport {useParams,withRouter,Link} from \"react-router-dom\";\r\n\r\nimport TubeLink from './TubeLink';\r\n\r\nimport ListGroup from 'react-bootstrap/ListGroup';\r\nimport Button from 'react-bootstrap/Button';\r\nimport Row from 'react-bootstrap/Row';\r\nimport Col from 'react-bootstrap/Col';\r\n\r\nimport { addMessage, setLooked} from '../actions';\r\nimport { validURL } from '../helper';\r\n\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n\t\tcurrent_user_id: state.current_user_id,\r\n\t\tusers: state.users,\r\n\t\tmessages: state.messages\r\n\t};\r\n};\r\n\r\n\r\nconst MessagesBlock = connect(mapStateToProps)(({current_user_id, users, messages, dispatch }) => {\t\r\n\tconst [messageValue, setMessageValue] = useState(\"\");\r\n\tlet activeUsers = users.filter((us)=>{\r\n\t\treturn us.id == parseInt(current_user_id);\r\n\t});\r\n\tlet friends = users.filter((us)=>{\r\n\t\treturn activeUsers.length > 0 && us.id !== parseInt(current_user_id);\r\n\t});\r\n\tlet customFriend = friends.length > 0 ? friends[0] : null;\t\r\n\tconst [activeFrield, setActiveFrield] = useState(null);\r\n\t\r\n\tlet setLookedMessages = ()=>{\r\n\t\t\tdispatch(setLooked({\t\t\t\t\t\t\r\n\t\t\t\tfrom_id: activeFrield.id,\r\n\t\t\t\tto_id: current_user_id\r\n\t\t\t}));\t\t\r\n\t}\r\n\tlet changeFriend = (e, newFriend)=>{\r\n\t\te.preventDefault();\r\n\t\tsetActiveFrield({...newFriend});\r\n\t}\r\n\tlet onFormSubmit = (e)=>{\r\n\t\te.preventDefault();\r\n\t\tif(messageValue.trim().length > 0){\r\n\t\t\tdispatch(addMessage({\r\n\t\t\t\tmessage: messageValue,\t\t\t\t\r\n\t\t\t\tfrom_id: current_user_id,\r\n\t\t\t\tto_id: activeFrield.id\r\n\t\t\t}));\r\n\t\t\tsetMessageValue(\"\");\r\n\t\t}\r\n\t}\r\n\tlet onChange = (e)=>{\r\n\t\tsetMessageValue(e.target.value);\r\n\t}\t\r\n\tuseEffect(() => {\t\t\r\n\t\tsetActiveFrield({...customFriend});\t\t\r\n\t}, [customFriend]);\r\n\treturn(\r\n\t<>\r\n\t<ListGroup>\r\n\t\t<Row>\r\n\t\t\t<Col className=\"messagesContainer\">\r\n\t\t\t\t<ListGroup.Item>\t\t\t\t\r\n\t\t\t\t{messages.filter((mes)=>{\r\n\t\t\t\t\treturn (activeFrield && mes.from_id == parseInt(current_user_id) && mes.to_id == activeFrield.id) ||\r\n\t\t\t\t\t(activeFrield && mes.from_id == activeFrield.id && mes.to_id == parseInt(current_user_id));\r\n\t\t\t\t}).map((ms, index)=>{\r\n\t\t\t\t\tlet mUsers = users.filter((us)=>{\r\n\t\t\t\t\t\treturn us.id == activeFrield.id;\r\n\t\t\t\t\t});\r\n\t\t\t\t\tlet mUser = mUsers.length > 0 ? mUsers[0] : null;\r\n\t\t\t\t\tconst tube = \".\";\r\n\t\t\t\t\t\r\n\t\t\t\t\tlet isYLinks = ms.message.indexOf(tube) !== -1;\r\n\t\t\t\t\t\r\n\t\t\t\t\treturn (<ListGroup.Item className={ms.from_id == parseInt(current_user_id) ? \"messMy\" : \"messMe\"} key={index} variant={ms.from_id !== parseInt(current_user_id) ? (ms.looked ? \"\" :  \"info\") : \"light\"}>\r\n\t\t\t\t\t\t<Row>{mUser && ms.from_id !== parseInt(current_user_id) ? <Col>{mUser.name}</Col> : <></>}</Row> \r\n\t\t\t\t\t\t<Row>\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<Col>{\r\n\t\t\t\t\t\t\tisYLinks ? \t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<>{ms.message.split(\" \").map((pt, index)=>{\r\n\t\t\t\t\t\t\t\treturn (<div key={index}>{ validURL(pt) !== -1 ? \r\n\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t<a href={pt} target=\"_blank\">{pt}</a>\r\n\t\t\t\t\t\t\t\t<TubeLink {...{link: pt}}/>\r\n\t\t\t\t\t\t\t\t</> : (pt + \" \")}</div>)\r\n\t\t\t\t\t\t\t})}</>\r\n\t\t\t\t\t\t\t: ms.message\r\n\t\t\t\t\t\t\t}</Col>\r\n\t\t\t\t\t\t\t<Col>{ms.date}</Col>\r\n\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t</ListGroup.Item>);\r\n\t\t\t\t})}\r\n\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t{friends.length > 0?\t\t\t\t\t\t\r\n\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t<form onSubmit={onFormSubmit}>\t\t\t\r\n\t\t\t\t\t\t<div><textarea\r\n\t\t\t\t\t\t\ttype=\"text\"\t\t\t\t\r\n\t\t\t\t\t\t\tid=\"input01\"\t\t\t\t\r\n\t\t\t\t\t\t\tonChange={onChange}\r\n\t\t\t\t\t\t\tsize=\"sm\"\r\n\t\t\t\t\t\t\tvalue={messageValue}\r\n\t\t\t\t\t\t\tplaceholder=\"Your message...\"\r\n\t\t\t\t\t\t\tonClick={setLookedMessages}\r\n\t\t\t\t\t\t></textarea>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<button  onClick={onFormSubmit} type=\"submit\" >Send Message</button>\r\n\t\t\t\t\t</form>\r\n\t\t\t\t</ListGroup.Item>\t\t\t\t\r\n\t\t\t\t: <></>\r\n\t\t\t\t}\t\t\t\t\r\n\t\t\t</Col>\r\n\t\t\t<Col className=\"friendsContainer\">\r\n\t\t\t{friends.map((fr, index)=>{\r\n\t\t\t\treturn (<ListGroup.Item onClick={(e)=>{changeFriend(e, fr);}} variant={activeFrield !== null && fr.id==activeFrield.id ? \"info\" : \"\"} key={index}>{fr.name}</ListGroup.Item>)\r\n\t\t\t})}\r\n\t\t\t</Col>\r\n\t\t</Row>\r\n\t</ListGroup>\r\n\t\r\n\r\n\t</>\r\n)});\r\n\r\n\r\nexport default withRouter(MessagesBlock);","import React from 'react';\r\n\r\nimport Col from 'react-bootstrap/Col';\r\nimport Row from 'react-bootstrap/Row';\r\n\r\nimport UserBlock from './UserBlock';\r\nimport MessagesBlock from './MessagesBlock';\r\n\r\n\r\nconst Blocks = ({  }) => {\r\n\treturn(\r\n\t\t<>\t\r\n\t\t\t<UserBlock/>\r\n\t\t\t<MessagesBlock/>\t\t\t\r\n\t\t</>\t\t\r\n)};\r\n\r\n\r\nexport default Blocks;","import React, { useState, useEffect, Component } from \"react\";\n\nimport { Route,Link,withRouter } from 'react-router-dom';\nimport Container from 'react-bootstrap/Container';\n\nimport Blocks from './components/Blocks';\n\nimport './styles/main.scss';\n\n\nfunction App({location}) {\t\n\tuseEffect(() => {\n\t\t\t\n\t}, []);\t\t\n    return (\n\t\t<Container>\n\t\t\t<div className=\"headerBlock\">\t\n\t\t\t\t<Link className=\"mainLogoLink\" to=\"/\"><h1 className=\"mainLogo\">Messanger</h1></Link>\t\t\t\t\t\n\t\t\t</div>\t\n\t\t\t<div className=\"contentBlock\">\t\t\t\n\t\t\t\t<Route exact path=\"/\" component={Blocks} />\t\t\t\t\t\t\t\t\n\t\t\t</div>\t \t\t\t\n\t\t</Container>\n    );\n}\n\nexport default withRouter(App);\n","import React from 'react';\nimport { render } from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { createStore } from 'redux';\nimport { BrowserRouter } from 'react-router-dom';\nimport toDoApp from './reducers';\nimport App from './App';\n\nconst store = createStore(toDoApp);\nrender(\n  <Provider store={store}>\n\t<BrowserRouter>\n    <App />\n\t</BrowserRouter>\n  </Provider>,\n  document.getElementById('root')\n);"],"sourceRoot":""}